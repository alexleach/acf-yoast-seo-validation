/*! acf-yoast-seo-validation 2016-11-11 */
!function(a){function b(c,d){return"object"==typeof d?a.each(d,function(d,e){a.each(e,function(a,d){c=b(c,d)})}):c+=d+"\n",c}var c,d=function(){this.content={},this.pluginName="acfPlugin"};a.fn.reverse=Array.prototype.reverse,d.prototype.setContent=function(b){b=b.find("[data-field_name][data-field_type][data-field_key]");var c=b.attr("data-field_key"),d=b.attr("data-field_type"),e=null,f=b.parents("[data-field_name][data-field_type][data-field_key],[data-id]");switch(d){case"text":if(e=b.find("input").val(),b.is("[class*='wrap-in-']")){var g=b.attr("class").match(/wrap-in-(\w+)/);e="<"+g[1]+">"+e+"</"+g[1]+">"}break;case"image":e=b.find("img[src!='']").prop("outerHTML");break;case"gallery":e="",b.find("div.thumbnail > img").each(function(){e+=a(this).prop("outerHTML")});break;case"textarea":case"wysiwyg":e=b.find("textarea").val();break;default:e=null}if(null!==e){var h=this.content;f.length>0&&f.get().reverse().forEach(function(b){var c=a(b),d=c.is("[data-id]")?c.attr("data-id"):c.attr("data-field_key");void 0===h[d]&&(h[d]={}),h=h[d]}),h[c]=e,YoastSEO.app.pluginReloaded(this.pluginName)}return!0},d.prototype.removeContent=function(b){if("acfcloneindex"!==b.attr("data-id")){var c=b.parents("[data-field_name][data-field_type][data-field_key],[data-id]"),d=this.content;c.length>0&&c.reverse().each(function(){var b=a(this),c=b.is("[data-id]")?b.attr("data-id"):b.attr("data-field_key");if(d=d[c],void 0===d)return!1}),void 0!==d&&(delete d[b.attr("data-id")],YoastSEO.app.pluginReloaded(this.pluginName))}},d.prototype.registerPlugin=function(){YoastSEO.app.registerPlugin(this.pluginName,{status:"ready"})},d.prototype.registerModifications=function(){YoastSEO.app.registerModification("content",this.addAcfDataToContent.bind(this),this.pluginName,10)},d.prototype.addAcfDataToContent=function(c){return a.isEmptyObject(this.content)?c:(c+="\n",a.each(this.content,function(a,d){c=b(c,d)}),c)},a(window).on("YoastSEO:ready",function(){c=new d,c.registerPlugin(),c.registerModifications()}),a(document).on("acf/setup_fields",function(b,d){a(d).find(".acf_postbox").not(".acf-hidden").each(function(){var b=a(this);c.setContent(b),"wysiwyg"==b.find("[data-field_type]").attr("data-field_type")&&b.find("textarea").change(function(){c.setContent(b)})})}),a(document).on("acf/remove_fields",function(b,d){a(d).find(".acf_postbox").not(".acf-hidden").each(function(){c.setContent(a(this))})})}(jQuery);